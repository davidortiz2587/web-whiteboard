:root {
  --bg: #0f172a; /* slate-900 */
  --panel: #111827ee; /* gray-900 */
  --muted: #94a3b8; /* slate-400 */
  --text: #e5e7eb; /* gray-200 */
  --accent: #60a5fa; /* blue-400 */
}

* { box-sizing: border-box; }

html, body { height: 100%; }

body {
  margin: 0; 
  background: var(--bg); 
  color: var(--text);
  font: 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
}

.toolbar {
  position: fixed; 
  left: 50%; 
  transform: translateX(-50%);
  top: 12px; 
  display: flex; 
  gap: 10px; 
  align-items: center;
  padding: 10px 12px; 
  background: var(--panel); 
  backdrop-filter: blur(8px);
  border: 1px solid #334155aa; 
  border-radius: 14px; 
  box-shadow: 0 10px 30px #0008;
  z-index: 5; 
  user-select: none;
}

.toolbar label { 
  font-size: 12px; 
  color: var(--text); 
  white-space: nowrap;
  font-weight: 500;
}

.toolbar .group { 
  display: inline-flex; 
  align-items: center; 
  gap: 8px; 
  padding: 6px 8px; 
  border-radius: 10px; 
  background: #0b1220aa; 
  border: 1px solid #1f2937; 
  min-height: 40px;
}

.toolbar input[type="range"] { 
  width: 120px; 
  height: 20px;
}

/* Remove default white border from color inputs */
.toolbar input[type="color"] {
  -webkit-appearance: none;
  appearance: none;
  border: 1px solid white;
  padding: 0;
  width: 40px;
  height: 28px;
  background: transparent;
  cursor: pointer;
  border-radius: 6px;
}
.toolbar input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; }
.toolbar input[type="color"]::-webkit-color-swatch { border: none; border-radius: 4px; }
.toolbar input[type="color"]::-moz-color-swatch { border: none; border-radius: 4px; }

.btn {
  border: 1px solid #334155; 
  background: #0b1220; 
  color: var(--text);
  padding: 8px 10px; 
  border-radius: 10px; 
  cursor: pointer; 
  transition: transform .06s ease, background .2s, border-color .2s;
  min-width: 80px;
  text-align: center;
  white-space: nowrap;
}

.btn[aria-pressed="true"] {
  border-color: #60a5fa;
}

.btn .icon {
  width: 18px;
  height: 18px;
  vertical-align: -3px;
  margin-right: 6px;
  filter: drop-shadow(0 0 0 rgba(0,0,0,0));
}

.btn:hover { 
  background: #0f172a; 
}

.btn:active { 
  transform: translateY(1px); 
}

.btn[disabled] { 
  opacity: .5; 
  cursor: not-allowed; 
}

.chip { 
  font-size: 12px; 
  color: var(--muted); 
  padding: 4px 8px; 
  border: 1px dashed #334155; 
  border-radius: 999px; 
  white-space: nowrap;
  font-weight: 500;
  min-height: 20px;
  display: inline-flex;
  align-items: center;
}

canvas { 
  position: fixed; 
  inset: 0; 
  width: 100%; 
  height: 100%; 
  touch-action: none; 
  background: #ffffff; 
}

/* .hint { 
  position: fixed; 
  left: 50%; 
  transform: translateX(-50%); 
  bottom: 12px; 
  color: var(--muted); 
  font-size: 13px; 
  background: #0b1220bb; 
  border: 1px solid #1f2937; 
  border-radius: 10px; 
  padding: 8px 10px; 
}

#preview {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  max-width: 80vw;
  max-height: 80vh;
  background: var(--panel);
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 20px;
  z-index: 10;
  backdrop-filter: blur(8px);
  box-shadow: 0 20px 40px #0008;
}

#preview img {
  max-width: 100%;
  max-height: 100%;
  border-radius: 8px;
}

#preview iframe {
  width: 100%;
  height: 400px;
  border: none;
  border-radius: 8px;
}

.preview-close {
  position: absolute;
  top: 10px;
  right: 15px;
  background: none;
  border: none;
  color: var(--text);
  font-size: 20px;
  cursor: pointer;
  padding: 5px;
  border-radius: 5px;
}

.preview-close:hover {
  background: #334155;
}

/* Dropdown styles */
.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background: var(--panel);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px;
  min-width: 200px;
  z-index: 10;
  backdrop-filter: blur(8px);
  box-shadow: 0 10px 30px #0008;
  margin-top: 4px;
  /* Add a small gap to prevent mouse from leaving the hover area */
  margin-top: 8px;
}

.dropdown-content label {
  display: block;
  font-size: 12px;
  color: var(--muted);
  margin-bottom: 8px;
}

.dropdown-content input[type="range"] {
  width: 100%;
  margin-bottom: 8px;
}

.dropdown-content .chip {
  display: block;
  text-align: center;
  margin-top: 4px;
}

/* Show dropdown when hovering over the dropdown container */
.dropdown:hover .dropdown-content {
  display: block;
}

/* Keep dropdown open when hovering over the content */
.dropdown-content:hover {
  display: block;
}

/* Add a pseudo-element to bridge the gap between button and dropdown */
.dropdown::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  height: 8px;
  background: transparent;
  z-index: 9;
}

/* Show the bridge when hovering */
.dropdown:hover::after {
  display: block;
} 